---
import MainLayout from "../layouts/MainLayout.astro";
import { getCollection,getEntryBySlug } from "astro:content";
import { formatDate,slugify } from "../js/utils";
export const prerender = true;
import { Image } from "@astrojs/image/components";


const allBlogs = await getCollection('blogs')
const recentBlogs = [...allBlogs].sort(
	(a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf()
).slice(0, 3);

const oneBlog = await getEntryBySlug('blogs',"blog-2")

---


		<MainLayout title="Index Page" > 
			
			<!--  -->





			<!-- recent post -->
			<div class="recentPost">
				<div class="recentPostShader">
					<h2 class=" recentPostH2 blogH2">Recent Blog Post</h2>
				</div>
				
			</div>

				

				<ul class="recentPostCard flex column ">
					{
					recentBlogs.map((v) => (
					<li>
						<a href={`/blogs/${slugify(v.slug)}/`}>
							<div class="postCardContainer flex">
								<div class="postCardInfo">	
									<span></span>
									<h3>{v.data.title}</h3>
									<p>{formatDate(v.data.publishDate)}</p>
								</div>
						
							<div >
								<img
								src = {v.data.image.src}

								>
							</div>
							

						</div>
						</a>
					</li>	
					
					))
						}
				</ul>
					
			
		
		
		</MainLayout>

	

		 
